@page "/tools/date-convert"

<DtToolPageHeader ToolDefinition="@_toolDefinition" />

<MudCard Class="my-2">
    <MudCardContent>
        <MudGrid>
            <MudItem xs="8">
                <DtTextField
                    Value="@_args.Date"
                    Label="Input Date"
                    OnDebounceIntervalElapsed="OnValueChangedAsync"
                    Error="@(_results.Any(it => it.Value?.HasErrors ?? false))"
                    ErrorText="@ErrorMessage()"/>
    
            </MudItem>
            <MudItem xs="4">
                <MudSelect
                    T="DateTimeConverterTool.DateFormatType"
                    ShrinkLabel="true"
                    Label="Date Format"
                    Value="@_args.From"
                    Variant="Variant.Outlined"
                    Margin="Margin.Dense"
                    ValueChanged="OnFromFormatSelectedAsync">
                    @foreach (var format in DateFormats())
                    {
                        <MudSelectItem Value="format">@format.ToString()</MudSelectItem>
                    }
                </MudSelect>
            </MudItem>
        </MudGrid>
        
        @foreach (var result in _results)
        {
            <DtTextField Value="@result.Value?.Time" Label="@result.Key.ToString()" LabelPosition="DtTextField.LabelPositionType.Left" LabelWidth="120" ReadOnly="true"/>
        }
    </MudCardContent>
</MudCard>
